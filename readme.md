# Nu Plasma3 Iolite Import Plugin

**UCSB LASS Petrochronology**

This repository contains a plugin for importing `.csv` files generated by the Nu Plasma3
in the UCSB LASS lab. 

The [nrf_codes.json](nrf_codes.json) file is configured for the `.nrf` files utilized by
the UCSB LASS lab. Feel free to use it as a template for formatting your own `json` file
for your own `.nrf` detector-mass configurations. As long as these are defined
appropriately, the plugin will work. 

## Installation
Use the `Tools -> Plugins -> Import` menu at the top of Iolite4 to install the
[nu-plasma3_importer.py](nu-plasma3_importer.py) file. Click `Import Always` for the plugin to be available in future sessions of Iolite4.

After installing the plugin, you might need to click `Tools -> Plugins -> Refresh` or
restart Iolite4.

Once the plugin is installed, go to `Tools -> Plugins -> Manage`. Scroll down to
NuPlasma3. By `Path`, click the `Show` button to open the plugin installation folder.
Copy [nrf_codes.json](nrf_codes.json) (or your version of this file) into this folder.

## Notes
### Timestamps and Time Zones
This plugin, being geared towards UCSB users, assumes that the Nu Plasma3 timestamps are
in Pacific time. If that is not the case, you will want to change the time zone
specification To accomplish this, search for `pytz.timezone` in the plugin code and change the argument to match
your time zone. 

## To Do
- [ ] implement `correct_format()` to verify that `.csv` files are properly formatted