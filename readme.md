# Nu Plasma3 Iolite Import Plugin

**UCSB LASS Petrochronology**

This repository contains a plugin for importing `.csv` files generated by a Nu Plasma3
into Iolite 4. The plugin is configured at the moment for files generated by the [UCSB LASS lab](https://www.petrochronology.com/). 

The [`nrf_codes_plasma3.json`](nrf_codes_plasma3.json) file is configured for the `.nrf` files utilized by
the UCSB LASS lab. Feel free to use it as a template for formatting your own `json` file
for your own `.nrf` detector-mass configurations. As long as these are defined
appropriately, the plugin will work. 

## Installation
Use the `Tools -> Plugins -> Import` menu at the top of Iolite4 to install the
[`nu-plasma3_importer.py`](nu-plasma3_importer.py) file. Click `Import Always` for the plugin to be available in future sessions of Iolite4.

After installing the plugin, you might need to click `Tools -> Plugins -> Refresh` or
restart Iolite4.

Once the plugin is installed, go to `Tools -> Plugins -> Manage`. Scroll down to
NuPlasma3. By `Path`, click the `Show` button to open the plugin installation folder.
Copy [`nrf_codes_plasma3.json`](nrf_codes_plasma3.json) (or your version of this file) into this folder.

### Re-installation
To install a new version of the plugin, you will have to delete the existing plugin file. To do so, go to `Tools -> Plugins -> Manage`. Scroll down to
NuPlasma3. By `Path`, click the `Show` button to open the plugin installation folder. Delete `nu-plasma3_importer.py` and `nu-plasma3_importer.pyc` (if it exists). Restart Iolite 4, and then follow the installation proecedure. 

To update the `nrf_codes_plasma3.json` file, you can simply overwrite it with a new version.

## Notes
### Timestamps and Time Zones
This plugin, being geared towards UCSB users, assumes that the Nu Plasma3 timestamps are
in Pacific time. If that is not the case, you will want to change the time zone
specification To accomplish this, search for `pytz.timezone` in the plugin code and change the argument to match
your time zone. 
